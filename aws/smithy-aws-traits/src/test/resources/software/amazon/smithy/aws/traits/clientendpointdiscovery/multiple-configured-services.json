{
    "smithy": "0.4.0",
    "ns.foo": {
        "shapes": {
            "FooService": {
                "type": "service",
                "version": "2019-09-10",
                "aws.api#clientEndpointDiscovery": {
                    "operation": "ns.foo#DescribeEndpointsFoo",
                    "error": "ns.foo#InvalidEndpointError"
                },
                "operations": [
                    "DescribeEndpointsFoo",
                    "GetObjectFoo",
                    "PutObject"
                ]
            },
            "BarService": {
                "type": "service",
                "version": "2019-09-10",
                "aws.api#clientEndpointDiscovery": {
                    "operation": "ns.foo#DescribeEndpointsBar",
                    "error": "ns.foo#InvalidEndpointError"
                },
                "operations": [
                    "DescribeEndpointsBar",
                    "GetObjectBar",
                    "PutObject"
                ]
            },
            "DescribeEndpointsFoo": {
                "type": "operation",
                "input": "DescribeEndpointsInput",
                "output": "DescribeEndpointsOutput"
            },
            "DescribeEndpointsBar": {
                "type": "operation",
                "input": "DescribeEndpointsInput",
                "output": "DescribeEndpointsOutput"
            },
            "DescribeEndpointsInput": {
                "type": "structure",
                "members": {
                    "Operation": {
                        "target": "smithy.api#String"
                    },
                    "Identifiers": {
                        "target": "Identifiers"
                    }
                }
            },
            "Identifiers": {
                "type": "map",
                "key": {
                    "target": "smithy.api#String"
                },
                "value": {
                    "target": "smithy.api#String"
                }
            },
            "DescribeEndpointsOutput": {
                "type": "structure",
                "members": {
                    "Endpoints": {
                        "target": "Endpoints"
                    }
                }
            },
            "Endpoints": {
                "type": "list",
                "member": {
                    "target": "Endpoint"
                }
            },
            "Endpoint": {
                "type": "structure",
                "members": {
                    "Address": {
                        "target": "smithy.api#String"
                    },
                    "CachePeriodInMinutes": {
                        "target": "smithy.api#Long"
                    }
                }
            },
            "GetObjectFoo": {
                "type": "operation",
                "input": "GetObjectInput",
                "output": "GetObjectOutput",
                "aws.api#clientDiscoveredEndpoint": {
                    "required": true
                },
                "errors": ["InvalidEndpointError"]
            },
            "GetObjectBar": {
                "type": "operation",
                "input": "GetObjectInput",
                "output": "GetObjectOutput",
                "aws.api#clientDiscoveredEndpoint": {
                    "required": false
                },
                "errors": ["InvalidEndpointError"]
            },
            "GetObjectInput": {
                "type": "structure",
                "members": {
                    "Id": {
                        "target": "smithy.api#String",
                        "aws.api#clientEndpointDiscoveryId": true,
                        "required": true
                    }
                }
            },
            "GetObjectOutput": {
                "type": "structure",
                "members": {
                    "Object": {
                        "target": "smithy.api#Blob"
                    }
                }
            },
            "PutObject": {
                "type": "operation",
                "input": "PutObjectInput",
                "aws.api#clientDiscoveredEndpoint": {
                    "required": false
                },
                "errors": ["InvalidEndpointError"]
            },
            "PutObjectInput": {
                "type": "structure",
                "members": {
                    "Object": {
                        "target": "smithy.api#Blob"
                    }
                }
            },
            "InvalidEndpointError": {
                "type": "structure",
                "error": "client",
                "httpError": 421
            }
        }
    }
}